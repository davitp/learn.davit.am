(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4184],{6175:function(e,n,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/system-programming/topics/pipes",function(){return i(3718)}])},3718:function(e,n,i){"use strict";i.r(n),i.d(n,{useTOC:function(){return c}});var s=i(2676),l=i(9680),r=i(7983),d=i(8724);function c(e){return[{value:"Overview",id:"overview",depth:2},{value:"Key Concepts",id:"key-concepts",depth:2},{value:"What are Pipes?",id:"what-are-pipes",depth:3},{value:"Pipe Characteristics",id:"pipe-characteristics",depth:3},{value:"Anonymous Pipes (Unnamed Pipes)",id:"anonymous-pipes-unnamed-pipes",depth:3},{value:"Named Pipes (FIFOs)",id:"named-pipes-fifos",depth:3},{value:"Bidirectional Communication",id:"bidirectional-communication",depth:3},{value:"Common Patterns and Best Practices",id:"common-patterns-and-best-practices",depth:3},{value:"Practice / Lab",id:"practice--lab",depth:2},{value:"Anonymous Pipes: Parent-Child Communication",id:"anonymous-pipes-parent-child-communication",depth:3},{value:"Bidirectional Communication",id:"bidirectional-communication-1",depth:3},{value:"Command Pipeline Implementation",id:"command-pipeline-implementation",depth:3},{value:"Named Pipes (FIFOs)",id:"named-pipes-fifos-1",depth:3},{value:"Exploring Pipe Limits",id:"exploring-pipe-limits",depth:3},{value:"Homework",id:"homework",depth:2},{value:"References & Resources",id:"references--resources",depth:2},{value:"Quiz (Self-check)",id:"quiz-self-check",depth:2},{value:"Suggested Tools",id:"suggested-tools",depth:2}]}n.default=(0,l.c)(function(e){let{toc:n=c(e)}=e,i={a:"a",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",hr:"hr",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,d.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.h1,{children:"Pipes and FIFOs"}),"\n",(0,s.jsx)(i.h2,{id:n[0].id,children:n[0].value}),"\n",(0,s.jsxs)(i.p,{children:["This week introduces ",(0,s.jsx)(i.strong,{children:"pipes"})," as a fundamental mechanism for inter-process communication in Unix/Linux systems.",(0,s.jsx)(i.br,{}),"\n","Students will learn about ",(0,s.jsx)(i.strong,{children:"anonymous pipes"})," (unnamed pipes) for communication between related processes, and ",(0,s.jsx)(i.strong,{children:"named pipes"})," (FIFOs) for communication between unrelated processes. We will explore how data flows through pipes, their characteristics, and the system calls used to create and manage them."]}),"\n",(0,s.jsx)(i.p,{children:"By the end of this week, students will understand how to use pipes for process communication, the differences between anonymous and named pipes, and when to use each type."}),"\n",(0,s.jsx)(i.hr,{}),"\n",(0,s.jsx)("iframe",{width:"768",height:"496",src:"https://miro.com/app/live-embed/uXjVJKv1fww=/?focusWidget=3458764649767252493&embedMode=view_only_without_ui&embedId=131341730336",frameBorder:"0",scrolling:"no",allow:"fullscreen; clipboard-read; clipboard-write",allowfullscreen:!0}),"\n",(0,s.jsx)(i.hr,{}),"\n",(0,s.jsx)(i.h2,{id:n[1].id,children:n[1].value}),"\n",(0,s.jsx)(i.h3,{id:n[2].id,children:n[2].value}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["Pipes as ",(0,s.jsx)(i.strong,{children:"unidirectional byte streams"})," for IPC"]}),"\n",(0,s.jsx)(i.li,{children:"Producer-consumer model: one process writes, another reads"}),"\n",(0,s.jsx)(i.li,{children:"Pipes as the foundation of Unix philosophy (“do one thing well”)"}),"\n",(0,s.jsxs)(i.li,{children:["Shell pipes (",(0,s.jsx)(i.code,{children:"|"}),") connecting command outputs to inputs"]}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:n[3].id,children:n[3].value}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Unidirectional data flow:"})," one-way communication channel"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Byte stream:"})," no message boundaries, continuous stream of bytes"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Buffered I/O:"})," kernel maintains a buffer (typically 64KB on Linux)"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Blocking behavior:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"read()"})," blocks if pipe is empty"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"write()"})," blocks if pipe buffer is full"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Automatic synchronization:"})," kernel handles coordination between reader and writer"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"EOF condition:"})," ",(0,s.jsx)(i.code,{children:"read()"})," returns 0 when all write ends are closed"]}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:n[4].id,children:n[4].value}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["Created with ",(0,s.jsx)(i.code,{children:"pipe()"})," system call"]}),"\n",(0,s.jsxs)(i.li,{children:["Returns two file descriptors: ",(0,s.jsx)(i.code,{children:"fd[0]"})," for reading, ",(0,s.jsx)(i.code,{children:"fd[1]"})," for writing"]}),"\n",(0,s.jsxs)(i.li,{children:["Communication between ",(0,s.jsx)(i.strong,{children:"related processes"})," (parent-child via ",(0,s.jsx)(i.code,{children:"fork()"}),")"]}),"\n",(0,s.jsx)(i.li,{children:"File descriptors inherited by child processes"}),"\n",(0,s.jsxs)(i.li,{children:["Typical workflow:","\n",(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsxs)(i.li,{children:["Parent creates pipe with ",(0,s.jsx)(i.code,{children:"pipe()"})]}),"\n",(0,s.jsx)(i.li,{children:"Parent forks child process"}),"\n",(0,s.jsx)(i.li,{children:"Both close unused ends (parent closes read end if writing, etc.)"}),"\n",(0,s.jsxs)(i.li,{children:["Processes communicate via ",(0,s.jsx)(i.code,{children:"read()"})," and ",(0,s.jsx)(i.code,{children:"write()"})]}),"\n",(0,s.jsx)(i.li,{children:"Close all pipe ends when done"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:n[5].id,children:n[5].value}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["Created with ",(0,s.jsx)(i.code,{children:"mkfifo()"})," system call or ",(0,s.jsx)(i.code,{children:"mkfifo"})," command"]}),"\n",(0,s.jsxs)(i.li,{children:["Exist as ",(0,s.jsx)(i.strong,{children:"special files"})," in the filesystem (",(0,s.jsx)(i.code,{children:"ls -l"})," shows ",(0,s.jsx)(i.code,{children:"p"})," type)"]}),"\n",(0,s.jsxs)(i.li,{children:["Enable communication between ",(0,s.jsx)(i.strong,{children:"unrelated processes"})]}),"\n",(0,s.jsx)(i.li,{children:"Persist in the filesystem until explicitly removed"}),"\n",(0,s.jsxs)(i.li,{children:["Opened with standard ",(0,s.jsx)(i.code,{children:"open()"})," call"]}),"\n",(0,s.jsx)(i.li,{children:"Multiple readers and writers possible (but data interleaving may occur)"}),"\n",(0,s.jsxs)(i.li,{children:["Opening behavior:","\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"open()"})," for reading blocks until a writer opens the FIFO"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"open()"})," for writing blocks until a reader opens the FIFO"]}),"\n",(0,s.jsxs)(i.li,{children:["Use ",(0,s.jsx)(i.code,{children:"O_NONBLOCK"})," flag to prevent blocking on open"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:n[6].id,children:n[6].value}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Single pipe provides one-way communication"}),"\n",(0,s.jsxs)(i.li,{children:["For bidirectional communication: create ",(0,s.jsx)(i.strong,{children:"two pipes"})]}),"\n",(0,s.jsx)(i.li,{children:"Pipe 1: parent → child"}),"\n",(0,s.jsx)(i.li,{children:"Pipe 2: child → parent"}),"\n",(0,s.jsx)(i.li,{children:"Each process closes the ends it doesn’t use"}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:n[7].id,children:n[7].value}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Always close unused pipe ends"})," to avoid deadlocks and resource leaks"]}),"\n",(0,s.jsxs)(i.li,{children:["Check return values of ",(0,s.jsx)(i.code,{children:"pipe()"}),", ",(0,s.jsx)(i.code,{children:"read()"}),", ",(0,s.jsx)(i.code,{children:"write()"}),", and ",(0,s.jsx)(i.code,{children:"close()"})]}),"\n",(0,s.jsxs)(i.li,{children:["Handle ",(0,s.jsx)(i.code,{children:"SIGPIPE"})," signal (sent when writing to a pipe with no readers)"]}),"\n",(0,s.jsxs)(i.li,{children:["Use ",(0,s.jsx)(i.code,{children:"select()"}),", ",(0,s.jsx)(i.code,{children:"poll()"}),", or ",(0,s.jsx)(i.code,{children:"epoll()"})," for non-blocking I/O on multiple pipes"]}),"\n",(0,s.jsxs)(i.li,{children:["Be aware of pipe buffer size limits (use ",(0,s.jsx)(i.code,{children:"fcntl()"})," with ",(0,s.jsx)(i.code,{children:"F_GETPIPE_SZ"}),")"]}),"\n"]}),"\n",(0,s.jsx)(i.hr,{}),"\n",(0,s.jsx)(i.h2,{id:n[8].id,children:n[8].value}),"\n",(0,s.jsx)(i.h3,{id:n[9].id,children:n[9].value}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Write a program where a parent creates a pipe, forks a child, and sends a message to the child."}),"\n",(0,s.jsx)(i.li,{children:"Have the child read from the pipe and print the message."}),"\n",(0,s.jsx)(i.li,{children:"Ensure both processes close unused pipe ends."}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:n[10].id,children:n[10].value}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Create two pipes for bidirectional communication between parent and child."}),"\n",(0,s.jsx)(i.li,{children:"Parent sends a number to child; child squares it and sends back the result."}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:n[11].id,children:n[11].value}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["Implement a simplified version of shell piping: ",(0,s.jsx)(i.code,{children:"command1 | command2"})]}),"\n",(0,s.jsxs)(i.li,{children:["Use ",(0,s.jsx)(i.code,{children:"pipe()"}),", ",(0,s.jsx)(i.code,{children:"fork()"}),", ",(0,s.jsx)(i.code,{children:"dup2()"}),", and ",(0,s.jsx)(i.code,{children:"exec()"})," to redirect output/input."]}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:n[12].id,children:n[12].value}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["Create a FIFO using ",(0,s.jsx)(i.code,{children:"mkfifo()"})," in one program."]}),"\n",(0,s.jsx)(i.li,{children:"Write a sender program that opens the FIFO and writes messages."}),"\n",(0,s.jsx)(i.li,{children:"Write a receiver program that opens the FIFO and reads messages."}),"\n",(0,s.jsx)(i.li,{children:"Run sender and receiver as separate processes and observe communication."}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:n[13].id,children:n[13].value}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Write to a pipe without reading to observe blocking behavior when buffer fills."}),"\n",(0,s.jsxs)(i.li,{children:["Use ",(0,s.jsx)(i.code,{children:"ulimit -p"})," or ",(0,s.jsx)(i.code,{children:"/proc/sys/fs/pipe-max-size"})," to inspect pipe buffer sizes."]}),"\n"]}),"\n",(0,s.jsx)(i.hr,{}),"\n",(0,s.jsx)(i.h2,{id:n[14].id,children:n[14].value}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.a,{href:"/system-programming/tasks/ipc/prime-calculator/",children:"IPC-2: Prime Calculator"})}),"\n"]}),"\n",(0,s.jsx)(i.hr,{}),"\n",(0,s.jsx)(i.h2,{id:n[15].id,children:n[15].value}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.strong,{children:"Required"})}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.a,{href:"https://www.youtube.com/watch?v=Mqb2dVRe0uo",children:"Pipes in C programming"})}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.a,{href:"https://www.youtube.com/watch?v=6xbLgZpOBi8",children:"Unix Pipes Explained"})}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.a,{href:"https://www.youtube.com/watch?v=2hba3etpoJg",children:"Named Pipes (FIFOs) in Linux"})}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.a,{href:"https://www.youtube.com/watch?v=NkfIUo_Qq4c",children:"Pipe, Fork and Exec"})}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.a,{href:"https://www.geeksforgeeks.org/pipe-system-call/",children:"Pipes in Linux (GeeksforGeeks)"})}),"\n",(0,s.jsxs)(i.li,{children:["Kerrisk, ",(0,s.jsx)(i.em,{children:"The Linux Programming Interface"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Chapter 44: Pipes and FIFOs"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.em,{children:"Advanced Programming in the UNIX Environment"})," — W. Richard Stevens, Chapter 15 “Interprocess Communication”"]}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.strong,{children:"Recommended"})}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.a,{href:"https://man7.org/linux/man-pages/man2/pipe.2.html",children:"Linux manual page - pipe(2)"})}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.a,{href:"https://man7.org/linux/man-pages/man3/mkfifo.3.html",children:"Linux manual page - mkfifo(3)"})}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.a,{href:"https://man7.org/linux/man-pages/man7/fifo.7.html",children:"Linux manual page - fifo(7)"})}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.a,{href:"https://man7.org/linux/man-pages/man2/dup2.2.html",children:"Linux manual page - dup2(2)"})}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.a,{href:"https://www.baeldung.com/linux/pipes",children:"Understanding Pipes in Unix"})}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.a,{href:"https://developer.ibm.com/articles/l-lpic1-103-4/",children:"Named Pipes (IBM Developer)"})}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.a,{href:"https://www.kernel.org/doc/html/latest/filesystems/pipes.html",children:"Pipe Implementation in Linux Kernel"})}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.a,{href:"https://lwn.net/Articles/118750/",children:"How Unix Pipes Are Implemented (LWN.net)"})}),"\n"]}),"\n",(0,s.jsx)(i.hr,{}),"\n",(0,s.jsx)(i.h2,{id:n[16].id,children:n[16].value}),"\n",(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsx)(i.li,{children:"What is the difference between anonymous pipes and named pipes (FIFOs)?"}),"\n",(0,s.jsx)(i.li,{children:"Why must unused pipe ends be closed in both parent and child processes?"}),"\n",(0,s.jsx)(i.li,{children:"What happens when you try to write to a pipe that has no readers?"}),"\n",(0,s.jsxs)(i.li,{children:["How does ",(0,s.jsx)(i.code,{children:"pipe()"})," communicate the file descriptors to the caller?"]}),"\n",(0,s.jsx)(i.li,{children:"What is the typical size of a pipe buffer in Linux?"}),"\n",(0,s.jsx)(i.li,{children:"How can you implement bidirectional communication using pipes?"}),"\n",(0,s.jsx)(i.li,{children:"When would you use a FIFO instead of an anonymous pipe?"}),"\n",(0,s.jsxs)(i.li,{children:["What does ",(0,s.jsx)(i.code,{children:"read()"})," return when all write ends of a pipe are closed?"]}),"\n",(0,s.jsxs)(i.li,{children:["What flag can you use to prevent ",(0,s.jsx)(i.code,{children:"open()"})," from blocking when opening a FIFO?"]}),"\n",(0,s.jsxs)(i.li,{children:["How do shell pipelines like ",(0,s.jsx)(i.code,{children:"ls | grep txt | wc -l"})," work internally?"]}),"\n"]}),"\n",(0,s.jsx)(i.hr,{}),"\n",(0,s.jsx)(i.h2,{id:n[17].id,children:n[17].value}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"mkfifo"})," — create named pipes from the command line"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"ls -l"})," — identify FIFOs (shown as type ",(0,s.jsx)(i.code,{children:"p"}),")"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"cat"})," — read from or write to FIFOs for testing"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"strace"})," — trace ",(0,s.jsx)(i.code,{children:"pipe()"}),", ",(0,s.jsx)(i.code,{children:"read()"}),", ",(0,s.jsx)(i.code,{children:"write()"})," system calls"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"lsof"})," — list open file descriptors including pipes"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"pv"})," — pipe viewer for monitoring data flow through pipes"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"tee"})," — read from stdin and write to both stdout and files"]}),"\n"]})]})},"/system-programming/topics/pipes",{filePath:"pages/system-programming/topics/pipes.mdx",timestamp:176536998e4,pageMap:r.v,frontMatter:{description:"Introduction to pipes and FIFOs in Unix/Linux — understanding anonymous pipes for parent-child communication and named pipes (FIFOs) for unrelated process IPC."},title:"Pipes and FIFOs"},"undefined"==typeof RemoteContent?c:RemoteContent.useTOC)}},function(e){e.O(0,[5030,2888,9774,179],function(){return e(e.s=6175)}),_N_E=e.O()}]);