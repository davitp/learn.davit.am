(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2896],{2824:function(e,i,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/system-programming/topics/advanced-io",function(){return n(8626)}])},8626:function(e,i,n){"use strict";n.r(i),n.d(i,{useTOC:function(){return c}});var s=n(2676),l=n(7250),d=n(9013),r=n(8583);function c(e){return[{value:"Overview",id:"overview",depth:2},{value:"Key Concepts",id:"key-concepts",depth:2},{value:"File Descriptor Duplication",id:"file-descriptor-duplication",depth:3},{value:"File Positioning",id:"file-positioning",depth:3},{value:"Sparse Files and Holes",id:"sparse-files-and-holes",depth:3},{value:"File Control and Management",id:"file-control-and-management",depth:3},{value:"Practice / Lab",id:"practice--lab",depth:2},{value:"Descriptor Duplication",id:"descriptor-duplication",depth:3},{value:"File Positioning and Sparse Files",id:"file-positioning-and-sparse-files",depth:3},{value:"File Control and Metadata",id:"file-control-and-metadata",depth:3},{value:"Homework",id:"homework",depth:2},{value:"Samples",id:"samples",depth:3},{value:"References & Resources",id:"references--resources",depth:2},{value:"Quiz (Self-check)",id:"quiz-self-check",depth:2},{value:"Suggested Tools",id:"suggested-tools",depth:2}]}i.default=(0,l.c)(function(e){let{toc:i=c(e)}=e,n={a:"a",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",hr:"hr",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,r.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{children:"Advanced File I/O"}),"\n",(0,s.jsx)(n.h2,{id:i[0].id,children:i[0].value}),"\n",(0,s.jsxs)(n.p,{children:["This week extends the foundation of Linux file I/O by exploring ",(0,s.jsx)(n.strong,{children:"advanced file descriptor manipulation"})," and ",(0,s.jsx)(n.strong,{children:"low-level file positioning"}),".",(0,s.jsx)(n.br,{}),"\n","Students will learn how to duplicate file descriptors, control file behavior using ",(0,s.jsx)(n.code,{children:"fcntl"}),", and manage files beyond simple read/write operations — including ",(0,s.jsx)(n.strong,{children:"seeking, truncation, and sparse file handling"}),"."]}),"\n",(0,s.jsx)(n.p,{children:"By the end of this week, students will have a complete understanding of how Linux manages file descriptors and how processes interact with files efficiently and flexibly."}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:i[1].id,children:i[1].value}),"\n",(0,s.jsx)(n.h3,{id:i[2].id,children:i[2].value}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"dup()"})," and ",(0,s.jsx)(n.code,{children:"dup2()"})," system calls"]}),"\n",(0,s.jsx)(n.li,{children:"File descriptor table and shared open file descriptions"}),"\n",(0,s.jsxs)(n.li,{children:["Standard output redirection example with ",(0,s.jsx)(n.code,{children:"dup2()"})]}),"\n",(0,s.jsxs)(n.li,{children:["Relationship between ",(0,s.jsx)(n.code,{children:"dup2()"})," and shell redirection"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:i[3].id,children:i[3].value}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["The ",(0,s.jsx)(n.code,{children:"lseek()"})," system call: repositioning file offsets"]}),"\n",(0,s.jsxs)(n.li,{children:["Seeking modes:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"SEEK_SET"})," – from beginning"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"SEEK_CUR"})," – from current position"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"SEEK_END"})," – from end of file"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"Practical uses: appending, measuring file size, random access"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:i[4].id,children:i[4].value}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Concept of holes (unallocated regions in files)"}),"\n",(0,s.jsx)(n.li,{children:"Creating and inspecting sparse files"}),"\n",(0,s.jsx)(n.li,{children:"Comparing allocated and logical sizes"}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"SEEK_DATA"})," and ",(0,s.jsx)(n.code,{children:"SEEK_HOLE"})," (modern extensions for efficient traversal)"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:i[5].id,children:i[5].value}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["The ",(0,s.jsx)(n.code,{children:"fcntl()"})," system call:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Duplicating descriptors (",(0,s.jsx)(n.code,{children:"F_DUPFD"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:["Managing flags (",(0,s.jsx)(n.code,{children:"FD_CLOEXEC"}),", ",(0,s.jsx)(n.code,{children:"O_APPEND"}),", ",(0,s.jsx)(n.code,{children:"O_NONBLOCK"}),")"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Truncating files with ",(0,s.jsx)(n.code,{children:"ftruncate()"})]}),"\n",(0,s.jsxs)(n.li,{children:["Retrieving file information with ",(0,s.jsx)(n.code,{children:"fstat()"})]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:i[6].id,children:i[6].value}),"\n",(0,s.jsx)(n.h3,{id:i[7].id,children:i[7].value}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Redirect program output to files using file descriptor duplication."}),"\n",(0,s.jsx)(n.li,{children:"Explore descriptor inheritance and redirection behavior."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:i[8].id,children:i[8].value}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Create files with gaps using ",(0,s.jsx)(n.code,{children:"lseek()"})," to demonstrate sparse allocation."]}),"\n",(0,s.jsx)(n.li,{children:"Compare logical and physical file sizes using shell utilities."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:i[9].id,children:i[9].value}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Use ",(0,s.jsx)(n.code,{children:"fcntl()"})," to retrieve and modify descriptor properties."]}),"\n",(0,s.jsx)(n.li,{children:"Truncate and inspect file length using system utilities."}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:i[10].id,children:i[10].value}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/system-programming/tasks/file-systems/redirect-cin/",children:"FS-4: Redirect standard input"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/system-programming/tasks/file-systems/manual-append/",children:"FS-5: Manaul append"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/system-programming/tasks/file-systems/copy-with-holes/",children:"FS-10: Copy a file accounting holes"})}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:i[11].id,children:i[11].value}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/system-programming/samples/redirect-output/",children:"Redirect standard output and error"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/system-programming/samples/make-hole/",children:"Create a file with holes"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/system-programming/samples/detect-holes/",children:"Detect holes in the file"})}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:i[12].id,children:i[12].value}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Required"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Kerrisk, ",(0,s.jsx)(n.em,{children:"The Linux Programming Interface"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Chapter 5: File I/O – Deeper Concepts"}),"\n",(0,s.jsx)(n.li,{children:"Chapter 6: Advanced File I/O"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Recommended"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/7/html/storage_administration_guide/sparse-files",children:"Understanding Sparse Files (Red Hat)"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://beej.us/guide/bgipc/html/#file-descriptors",children:"Beej’s Guide – File Descriptors"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://man7.org/linux/man-pages/man2/fcntl.2.html",children:"Linux manual page - fcntl(2)"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://man7.org/linux/man-pages/man2/dup.2.html",children:"Linux manual page - dup(2)"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://man7.org/linux/man-pages/man2/lseek.2.html",children:"Linux manual page - lseek(3p)"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://www.geeksforgeeks.org/lseek-in-c-to-read-the-alternate-nth-byte-and-write-it-in-another-file/",children:"lseek() in C/C++ to read the alternate nth byte and write it in another file"})}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:i[13].id,children:i[13].value}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"What happens to the file offset when a descriptor is duplicated?"}),"\n",(0,s.jsxs)(n.li,{children:["How does ",(0,s.jsx)(n.code,{children:"dup2()"})," differ from shell redirection?"]}),"\n",(0,s.jsxs)(n.li,{children:["What is the difference between ",(0,s.jsx)(n.code,{children:"SEEK_END"})," and ",(0,s.jsx)(n.code,{children:"SEEK_CUR"}),"?"]}),"\n",(0,s.jsx)(n.li,{children:"How does a sparse file conserve storage space?"}),"\n",(0,s.jsxs)(n.li,{children:["What are the purposes of ",(0,s.jsx)(n.code,{children:"SEEK_DATA"})," and ",(0,s.jsx)(n.code,{children:"SEEK_HOLE"}),"?"]}),"\n",(0,s.jsxs)(n.li,{children:["What does ",(0,s.jsx)(n.code,{children:"FD_CLOEXEC"})," accomplish in practice?"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:i[14].id,children:i[14].value}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"strace"})," – observe system calls like ",(0,s.jsx)(n.code,{children:"dup2"})," and ",(0,s.jsx)(n.code,{children:"lseek"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"ls"}),", ",(0,s.jsx)(n.code,{children:"du"}),", ",(0,s.jsx)(n.code,{children:"stat"})," – inspect logical and physical file properties"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"hexdump"})," – verify data placement within sparse files"]}),"\n"]})]})},"/system-programming/topics/advanced-io",{filePath:"pages/system-programming/topics/advanced-io.mdx",timestamp:1760295066e3,pageMap:d.v,frontMatter:{description:"Advanced file I/O in Linux — working with file descriptors, duplication, seeking, sparse files, and file control operations."},title:"Advanced File I/O"},"undefined"==typeof RemoteContent?c:RemoteContent.useTOC)}},function(e){e.O(0,[8977,2888,9774,179],function(){return e(e.s=2824)}),_N_E=e.O()}]);